<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rosco de Emociones</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f0f8ff;
      margin: 0;
      padding: 0;
    }
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 10px;
    }
    .rosco {
      position: relative;
      width: min(90vw, 500px);
      height: min(90vw, 500px);
      margin: 20px auto;
    }
    .letra {
      position: absolute;
      width: 10vw;
      max-width: 40px;
      height: 10vw;
      max-height: 40px;
      border-radius: 50%;
      background-color: blue;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: clamp(10px, 2vw, 16px);
      transition: background-color 0.3s;
    }
    .verde { background-color: green !important; }
    .rojo { background-color: red !important; }
    #pista {
      margin-top: 20px;
      padding: 10px;
      border: 2px solid #333;
      width: 80%;
      max-width: 400px;
      background-color: #fff;
      border-radius: 8px;
      font-size: clamp(14px, 3vw, 18px);
    }
    #inputRespuesta {
      margin: 10px;
      padding: 8px;
      font-size: clamp(14px, 3vw, 18px);
      width: 70%;
      max-width: 300px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    #temporizador {
      font-size: clamp(18px, 4vw, 24px);
      margin: 15px;
      font-weight: bold;
    }
    .solucion {
      color: red;
      margin-top: 10px;
      font-weight: bold;
      font-size: clamp(14px, 3vw, 18px);
    }
    .botones {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-top: 10px;
    }
    button {
      padding: 10px 20px;
      font-size: clamp(14px, 3vw, 18px);
      cursor: pointer;
      border: none;
      border-radius: 6px;
      background-color: #0077cc;
      color: white;
      flex: 1 1 auto;
      max-width: 150px;
    }
    button:hover {
      background-color: #005fa3;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Rosco de Emociones</h1>
    <div id="temporizador">20:00</div>
    <div class="rosco" id="rosco"></div>
    <div id="pista"></div>
    <input type="text" id="inputRespuesta" placeholder="Escribe tu respuesta">
    <div class="botones">
      <button onclick="comprobarRespuesta()">Comprobar</button>
      <button onclick="pasarPalabra()">Pasapalabra</button>
      <button onclick="empezarJuego()">Jugar</button>
    </div>
    <div class="solucion" id="solucion"></div>
  </div>

  <script>
    const letras = 'ABCDEFGHIJKLMNÑOPQRSTUVWXYZ';
    const preguntas = {
      A: { pregunta: "Emoción que surge cuando algo nos causa alegría intensa.", respuesta: "alegría" },
      B: { pregunta: "Sensación de bienestar y satisfacción personal.", respuesta: "bienestar" },
      C: { pregunta: "Emoción que sientes al cumplir un objetivo importante.", respuesta: "contento" },
      D: { pregunta: "Sensación de pena por una pérdida.", respuesta: "dolor" },
      E: { pregunta: "Estado emocional que produce satisfacción.", respuesta: "entusiasmo" },
      F: { pregunta: "Emoción que aparece cuando todo parece ir bien.", respuesta: "felicidad" },
      G: { pregunta: "Sentimiento de satisfacción por logros personales.", respuesta: "gratitud" },
      H: { pregunta: "Emoción que surge cuando todo te sale como quieres.", respuesta: "honor" },
      I: { pregunta: "Sentimiento de temor por lo que otros piensen.", respuesta: "inseguridad" },
      J: { pregunta: "Sensación placentera provocada por algo divertido.", respuesta: "júbilo" },
      K: { pregunta: "Estado de ánimo elevado, también llamado éxtasis.", respuesta: "kef" },
      L: { pregunta: "Emoción que sentimos por alguien o algo querido.", respuesta: "lealtad" },
      M: { pregunta: "Sensación de molestia por algo injusto.", respuesta: "malestar" },
      N: { pregunta: "Sensación de duda o falta de certeza.", respuesta: "nervios" },
      Ñ: { pregunta: "Palabra inventada: emoción intensa con ñ.", respuesta: "ñoñez" },
      O: { pregunta: "Sentimiento de sorpresa y admiración.", respuesta: "orgullo" },
      P: { pregunta: "Sensación de estar tranquilo y en calma.", respuesta: "paz" },
      Q: { pregunta: "Estado de ánimo equilibrado y relajado.", respuesta: "quietud" },
      R: { pregunta: "Emoción provocada por injusticias.", respuesta: "rabia" },
      S: { pregunta: "Sensación de miedo intenso.", respuesta: "susto" },
      T: { pregunta: "Emoción de preocupación por lo que pueda pasar.", respuesta: "tensión" },
      U: { pregunta: "Sensación de no saber qué hacer.", respuesta: "urgencia" },
      V: { pregunta: "Emoción de coraje o ira muy intensa.", respuesta: "violencia" },
      W: { pregunta: "Emoción extrema de miedo (palabra inglesa).", respuesta: "worry" },
      X: { pregunta: "Término psicológico para fobia a lo desconocido.", respuesta: "xenofobia" },
      Y: { pregunta: "Emoción de celos intensos.", respuesta: "yoísmo" },
      Z: { pregunta: "Sensación de cansancio extremo.", respuesta: "zozobra" }
    };

    let indice = 0;
    let letrasArray = letras.split('');
    let tiempo = 1200; // 20 minutos
    let temporizador;

    function crearRosco() {
      const rosco = document.getElementById("rosco");
      rosco.innerHTML = '';
      const radio = Math.min(200, (window.innerWidth * 0.4));
      letrasArray.forEach((letra, i) => {
        const angulo = (i / letrasArray.length) * 2 * Math.PI;
        const x = (rosco.offsetWidth / 2 - 20) + Math.cos(angulo - Math.PI/2) * radio;
        const y = (rosco.offsetHeight / 2 - 20) + Math.sin(angulo - Math.PI/2) * radio;
        const div = document.createElement('div');
        div.className = 'letra';
        div.id = `letra-${letra}`;
        div.innerText = letra;
        div.style.left = `${x}px`;
        div.style.top = `${y}px`;
        rosco.appendChild(div);
      });
    }

    function actualizarTemporizador() {
      const minutos = Math.floor(tiempo / 60);
      const segundos = tiempo % 60;
      document.getElementById("temporizador").innerText = `${minutos}:${segundos.toString().padStart(2, '0')}`;
      if (tiempo <= 0) {
        clearInterval(temporizador);
        alert("¡Tiempo terminado!");
      } else {
        tiempo--;
      }
    }

    function empezarJuego() {
      indice = 0;
      crearRosco();
      mostrarPregunta();
      tiempo = 1200;
      clearInterval(temporizador);
      temporizador = setInterval(actualizarTemporizador, 1000);
    }

    function mostrarPregunta() {
      const letra = letrasArray[indice];
      document.getElementById("pista").innerText = preguntas[letra].pregunta;
      document.getElementById("inputRespuesta").value = '';
      document.getElementById("solucion").innerText = '';
    }

    function comprobarRespuesta() {
      const letra = letrasArray[indice];
      const respuesta = document.getElementById("inputRespuesta").value.toLowerCase().trim();
      const correcta = preguntas[letra].respuesta.toLowerCase();
      const elemLetra = document.getElementById(`letra-${letra}`);
      if (respuesta === correcta) {
        elemLetra.classList.add('verde');
      } else {
        elemLetra.classList.add('rojo');
        document.getElementById("solucion").innerText = `La respuesta correcta era: ${correcta}`;
      }
      siguientePregunta();
    }

    function pasarPalabra() {
      siguientePregunta();
    }

    function siguientePregunta() {
      let intentos = 0;
      do {
        indice = (indice + 1) % letrasArray.length;
        intentos++;
        if (intentos > letrasArray.length) {
          alert("¡Has completado el rosco!");
          clearInterval(temporizador);
          return;
        }
      } while (
        document.getElementById(`letra-${letrasArray[indice]}`).classList.contains('verde') ||
        document.getElementById(`letra-${letrasArray[indice]}`).classList.contains('rojo')
      );
      mostrarPregunta();
    }

    window.addEventListener('resize', crearRosco);
    crearRosco();
  </script>
</body>
</html>
